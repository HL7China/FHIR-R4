<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
    <title>描述 - HL7 FHIR 中国</title>

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="author" content="http://hl7.org/fhir"/>

  <link rel="stylesheet" href="fhir.css"/>
  <link rel="Prev" href="http://hl7.org/fhir/narrative.html"/>

    <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="./dist/css/bootstrap.css"/>
  <link rel="stylesheet" href="./assets/css/bootstrap-fhir.css"/>

    <!-- Project extras -->
  <link rel="stylesheet" href="./assets/css/project.css"/>
  <link rel="stylesheet" href="./assets/css/pygments-manni.css"/>
	<link rel="stylesheet" href="jquery-ui.css"/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- [if lt IE 9]>
  <script src="./assets/js/html5shiv.js"></script>
  <script src="./assets/js/respond.min.js"></script>
  <![endif] -->

    <!-- Favicons -->
  <link sizes="144x144" rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-144-precomposed.png"/>
  <link sizes="114x114" rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-114-precomposed.png"/>
  <link sizes="72x72" rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-72-precomposed.png"/>
  <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png"/>
  <link rel="shortcut icon" href="./assets/ico/favicon.png"/>

</head>
<body>
    <div id="segment-header" class="segment"></div>  <!-- /segment-header -->	


	<div id="segment-navbar" class="segment">  <!-- segment-navbar -->
		<div id="stripe"> </div>
		<div class="container">  <!-- container -->
   <!-- HEADER CONTENT -->
 	      		 	      		      		
			<nav class="navbar navbar-inverse">
				<div class="container">
					<button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
						<span class="icon-bar"> </span>
					</button>
					<a href="index.html" class="navbar-brand hidden">FHIR</a>
    <div class="nav-collapse collapse navbar-inverse-collapse"  id="nav-content"></div>  <!-- /.nav-collapse -->
				</div>  <!-- /.container -->
			</nav>  <!-- /.navbar -->
      		
  <!-- /HEADER CONTENT -->				
		</div>  <!-- /container -->
	</div>  <!-- /segment-navbar -->
	

	<div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
		<div class="container">  <!-- container -->	
			<ul class="breadcrumb">
        <li><img src="foundation.png"/><b>当前位置：</b><a href="foundation-module.html"> 基础</a></li>
        <li>描述</li>         <!-- narrative.html / page / -->

			</ul>	
		</div>  <!-- /container -->
	</div>  <!-- /segment-breadcrumb -->
	

	<div id="segment-content" class="segment">  <!-- segment-content -->
	<div class="container">  <!-- container -->
            <div class="row">
            	<div class="inner-wrapper">
  <!-- CONTENT CONTENT -->


<div class="col-12">


<ul class="nav nav-tabs"><li class="active"><a href="#">Narrative</a></li><li><a href="narrative-example.html">Examples</a></li><li><a href="narrative-definitions.html">Detailed Descriptions</a></li></ul>


<a name="root"></a>
<a name="Narrative"></a>
<a name="narrative"></a>
<a name="xhtml"></a>
<h2 class="self-link-parent"><span class="sectioncount">2.4.0<a name="2.4.0"> </a></span> Narrative <a href="narrative.html#2.4.0" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h2>
<table class="colsn"><tr><td id="wg">工作组:<a href="http://www.hl7.org/Special/committees/fiwg/index.cfm" _target="blank">FHIR Infrastructure <img src="external.png" style="text-align: baseline"/></a></td><td id="fmm"><a href="versions.html#maturity">成熟度</a>: Normative</td><td id="ballot"><a href="versions.html#std-process">标准状态</a>:  <!-- !ns! --><a href="versions.html#std-process">Normative</a></td></tr></table>


<p>
Any resource that is a <a href="domainresource.html">DomainResource</a> (all resources except <a href="bundle.html">Bundle</a>, <a href="parameters.html">Parameters</a> and <a href="binary.html">Binary</a>) 
may include a human-readable narrative that contains a summary of the resource
and may be used to represent the content of the resource to a human.
</p>
<p>
If narrative is present with a status other than 'empty', it SHALL reflect all content
needed for a human to understand the essential clinical and business information for
the resource.  It SHALL be safe to render only the narrative of the resource without
displaying any of the resource's discrete/encoded information.  Resource definitions and/or
profiles on resources MAY define what content should be represented in the narrative to
ensure clinical safety.
</p>
<p>
The narrative for a resource MAY contain additional information that is not in
the structured data, including human-edited content. Such additional information SHALL be
in the scope of the definition of the resource, though it is common for the narrative to
include additional descriptive information extracted from other referenced resources
when describing references. Narrative for a resource SHOULD include summary information
about any referenced resources that would be required for a consumer of the resource to
be able to understand the key, essential information about a resource without retrieving
any additional resources. If the <code>Narrative.status</code> = extensions, the narrative 
SHALL reflect the impact of all modifier extensions that extend elements that are themselves 
described by the narrative. Narrative MAY <a href="references.html#rendering">include generated 
content</a> from other resources and still be considered generated.
</p>
<p>
For example, the narrative for a MedicationRequest might include brief summary information
about the referenced patient, prescriber and medication.  Some resources (e.g. List)
can provide specific rules about what content must (or must not) be included in the resource narrative.
Consideration would be given to the fact that referenced resources may be updated without updating
referencing resources, so the proportion of content of a referenced resource included
in a referencing resource should be limited.
</p>
<p>
Systems MAY choose how narrative is generated, including how much de-referencing to
perform, but SHALL NOT assume that the resource is rendered in any particular context
when generating narrative, since resources will be used in multiple contexts.
</p>
<p>
Resource instances that permit narrative SHOULD always contain narrative to support 
human-consumption as a fallback. Structured data SHOULD NOT generally contain information 
of importance to human readers that is omitted from the narrative. Creators of FHIR
resources should not assume that systems will render (or that humans will see)
data that is not in the narrative. However, in strictly managed trading systems
where all systems share a common data model and additional text is unnecessary or
even a clinical safety risk, the narrative may be omitted. Implementers should
give careful consideration before doing this, as it will mean that such resources can
only be understood in the limited trading environment. Closed trading partner
environments are very likely to open up during the lifetime of the resources
they define. Also, many workflow steps involving finding and aggregating
resources are much more difficult or tedious if the resources involved do not have
their own text.
</p>
<p>
A resource MAY only have text with little or no additional discrete data
(as long as all minOccurs=1 elements are satisfied).  This can be necessary for data from
legacy systems where information is captured as a "text blob" or where text is additionally
entered raw or narrated and encoded information is added later.
</p>
<p>
The narrative is an XHTML fragment with a flag to indicate its relationship to the data:
</p>
<div id="tabs-Narrative">
 <ul>
  <li><a href="#tabs-Narrative-struc">Structure</a></li>
  <li><a href="#tabs-Narrative-uml">UML</a></li>
  <li><a href="#tabs-Narrative-xml">XML</a></li>
  <li><a href="#tabs-Narrative-json">JSON</a></li>
  <li><a href="#tabs-Narrative-ttl">Turtle</a></li>
  <li><a href="#tabs-Narrative-diff">R3 Diff</a></li>
  <li><a href="#tabs-Narrative-all">All</a></li>
 </ul>
 <div id="tabs-Narrative-struc">
  <div id="tbl">
   <p><b>Structure</b></p>
   <div id="tbl-inner">
    <table border="0" cellpadding="0" cellspacing="0" style="border: 0px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;"><tr style="border: 1px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;"><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="The logical name of the element">Name</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Information about the use of the element">Flags</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Minimum and Maximum # of times the the element can appear in the instance">Card.</a></th><th style="width: 100px" class="hierarchy"><a href="formats.html#table" title="Reference to the type of the element">Type</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Additional information about the element">Description &amp; Constraints</a><span style="float: right"><a href="formats.html#table" title="Legend for this format"><img src="help16.png" alt="doco" style="background-color: inherit"/></a></span></th></tr><tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: white; background-color: inherit" title="Element" class="hierarchy"/> <a href="narrative-definitions.html#Narrative" title="Narrative : A human-readable summary of the resource conveying the essential clinical and business information for the resource.">Narrative</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="padding-left: 3px; padding-right: 3px; border: 1px grey solid; font-weight: bold; color: black; background-color: #e6ffe6" href="versions.html#std-process" title="Standards Status = Normative">N</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="element.html">Element</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">Human-readable summary of the resource (essential clinical and business information)<br/>Elements defined in Ancestors: <a href="element.html#Element" title="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.">id</a>, <a href="element.html#Element" title="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.">extension</a></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck10.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_primitive.png" alt="." style="background-color: white; background-color: inherit" title="Primitive Data Type" class="hierarchy"/> <a href="narrative-definitions.html#Narrative.status" title="Narrative.status : The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data.">status</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..1</td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="datatypes.html#code">code</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">generated | extensions | additional | empty<br/><a href="valueset-narrative-status.html" title="The status of a resource narrative.">NarrativeStatus</a> (<a href="terminologies.html#required" title="To be conformant, the concept in this element SHALL be from the specified value set.">Required</a>)</td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck00.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_datatype.gif" alt="." style="background-color: white; background-color: inherit" title="Data Type" class="hierarchy"/> <a href="narrative-definitions.html#Narrative.div" title="Narrative.div : The actual narrative content, a stripped down version of XHTML.">div</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="padding-left: 3px; padding-right: 3px; color: black; background-color: white" href="conformance-rules.html#constraints" title="This element has or is affected by some invariants">I</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..1</td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="narrative.html#xhtml">xhtml</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">Limited xhtml content<br/><span style="font-style: italic" title="txt-1">+ Rule: The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, &lt;a&gt; elements (either name or href), images and internally contained style attributes</span><br/><span style="font-style: italic" title="txt-2">+ Rule: The narrative SHALL have some non-whitespace content</span></td></tr>
<tr><td colspan="5" class="hierarchy"><br/><a href="formats.html#table" title="Legend for this format"><img src="help16.png" alt="doco" style="background-color: inherit"/> Documentation for this format</a></td></tr></table>
   </div>
  </div>
 </div>

 <div id="tabs-Narrative-uml">
  <div id="uml">
   <p><b>UML Diagram</b> (<a href="formats.html#uml">Legend</a>)</p>
   <div id="uml-inner">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="376.0" id="n9" version="1.1" height="126.0">  <defs>
    <filter x="0" width="200%" y="0" id="shadow1" height="200%">
      <feOffset result="offOut" dx="3" in="SourceGraphic" dy="3"></feOffset>
      <feColorMatrix result="matrixOut" in="offOut" values="0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0" type="matrix"></feColorMatrix>
      <feGaussianBlur result="blurOut" stdDeviation="2" in="matrixOut"></feGaussianBlur>
      <feBlend mode="normal" in="SourceGraphic" in2="blurOut"></feBlend>
    </filter>
  </defs><g id="n10"><rect filter="url(#shadow1)" rx="4" ry="4" x="120.0" width="114.4" y="70.0" style="fill:#ecffec;stroke:black;stroke-width:1" id="n11" height="46.0"></rect><text x="177.2" y="90.0" id="n12" fill="black" class="diagram-class-title"><a id="n13" xlink:href="element.html#Element">Element</a></text><line y1="98.0" x1="120.0" y2="98.0" x2="234.4" style="stroke:dimgrey;stroke-width:1" id="n14"></line><text x="126.0" y="112.0" fill="black" class="diagram-class-detail"><a id="n15" xlink:href="extensibility.html"><title id="n16">Extensions - as described for all elements: additional information that is not part of the basic definition of the resource / type</title>extension</a> : <a id="n17" xlink:href="extensibility.html">Extension</a> 0..*</text></g><g id="n18"><rect filter="url(#shadow1)" rx="4" ry="4" x="0.0" width="176.0" y="0.0" style="fill:#ecffec;stroke:black;stroke-width:1" id="n19" height="64.0"></rect><line y1="28.0" x1="0.0" y2="28.0" x2="176.0" style="stroke:dimgrey;stroke-width:1" id="n20"></line><text x="88.0" y="20.0" id="n21" fill="black" class="diagram-class-title"><a id="n22" xlink:href="narrative.html#Narrative">Narrative</a></text><text x="6.0" y="42.0" id="n23" fill="black" class="diagram-class-detail"><a id="n24" xlink:href="narrative-definitions.html#Narrative.status"><title>The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data</title>status</a> : <a id="n25" xlink:href="#code">code</a> [1..1] « <a id="n26" xlink:href="valueset-narrative-status.html"><title id="n27">The status of a resource narrative. (Strength=Required)</title>NarrativeStatus</a>! »</text><text x="6.0" y="56.0" id="n33" fill="black" class="diagram-class-detail"><a id="n34" xlink:href="narrative-definitions.html#Narrative.div"><title>The actual narrative content, a stripped down version of XHTML</title>div</a> : <a id="n35" xlink:href="narrative.html#xhtml">xhtml</a> [1..1]</text></g><line y1="70.0" x1="143.56721311475408" y2="63.99999999999999" x2="134.7934426229508" style="stroke:navy;stroke-width:1" id="n39"></line><polygon transform="rotate(-145.63347369686468 143.56721311475408 70.0)" style="fill:white;stroke:navy;stroke-width:1" id="n40" points="143.56721311475408,70.0 151.56721311475408,76.0 151.56721311475408,64.0 143.56721311475408,70.0"></polygon></svg>
   </div>
  </div>
 </div>

 <div id="tabs-Narrative-xml">
  <div id="xml">
   <p><b>XML Template</b></p>
   <div id="xml-inner">
    <pre class="spec">
&lt;<a href="narrative-definitions.html#Narrative" title="A human-readable summary of the resource conveying the essential clinical and business information for the resource." class="dict"><b>[name]</b></a> xmlns="http://hl7.org/fhir"&gt;
 &lt;!-- from Element: <a href="extensibility.html">extension</a> --&gt;
 &lt;<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict"><b>status</b></a> value="[<span style="color: darkgreen"><a href="datatypes.html#code">code</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="valueset-narrative-status.html">generated | extensions | additional | empty</a></span><span style="color: Gray"> --&gt;</span>
 &lt;<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict"><b title="The actual narrative content, a stripped down version of XHTML.">div</b></a> xmlns="http://www.w3.org/1999/xhtml"&gt; <span style="color: Gray">&lt;!--</span> <span style="color: navy">Limited xhtml content</span><span style="color: Gray">&lt; --&gt;</span> &lt;/div&gt;
&lt;/[name]&gt;
</pre>


   </div>
  </div>
 </div>

 <div id="tabs-Narrative-json">
  <div id="json">
   <p><b>JSON Template</b></p>
   <div id="json-inner">
    <pre class="spec">
{<span style="float: right"><a href="json.html" title="Documentation for this format"><img src="help.png" alt="doco"/></a></span>
  // from Element: <a href="extensibility.html">extension</a>
  "<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict">status</a>" : "&lt;<span style="color: darkgreen"><a href="datatypes.html#code">code</a></span>&gt;", <span style="color: Gray">//</span> <span style="color: brown" title="This element is required"><b>R!</b></span>  <span style="color: navy; opacity: 0.8"><a style="color: navy; opacity: 0.8" href="valueset-narrative-status.html">generated | extensions | additional | empty</a></span>
  "<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict">div</a>" : "(Escaped XHTML)" <span style="color: Gray">//</span> <span style="color: brown" title="This element is required"><b>R!</b></span>  <span style="color: navy; opacity: 0.8"><a style="color: navy; opacity: 0.8" href="terminologies.html#unbound">Limited xhtml content</a></span>
}
</pre>


   </div>
  </div>
 </div>

 <div id="tabs-Narrative-ttl">
  <div id="ttl">
   <p><b>Turtle Template</b></p>
   <div id="ttl-inner">
    <pre class="spec">
@prefix fhir: &lt;http://hl7.org/fhir/&gt; .

[
 # from Element: <a href="extensibility.html">Element.extension</a>
  fhir:<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict">Narrative.status</a><a name="ttl-status"> </a>[ <a href="datatypes.html#code">code</a> ]; # 1..1 <span style="color: navy">generated | extensions | additional | empty</span>
  fhir:<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict">Narrative.div</a><a name="ttl-div"> </a>[ fhir:value "[escaped xhtml]"^^xsd:string ]; # 1..1 <span style="color: navy">Limited xhtml content</span>
]
</pre>


   </div>
  </div>
 </div>

 <div id="tabs-Narrative-diff">
  <div id="diff">
   <p><b>Changes since Release 3</b></p>
   <div id="diff-inner">
    <table class="grid">
  <tr class="diff-item">
    <td class="diff-left">
      <a href="narrative.html#Narrative">Narrative</a>
    </td>
    <td class="diff-right"></td>
  </tr>
  <tr class="diff-entry">
    <td class="diff-left">Narrative.status</td>
    <td class="diff-right">
      <ul>
        <li>Change value set from http://hl7.org/fhir/ValueSet/narrative-status to http://hl7.org/fhir/ValueSet/narrative-status|4.0.0</li>
      </ul>
    </td>
  </tr>
</table>

<p>See the <a href="diff.html">Full Difference</a> for further information</p>

   </div>
  </div>
 </div>

 <div id="tabs-Narrative-all">
  <div id="tbla">
   <a name="tbl-Narrative"> </a>
   <p><b>Structure</b></p>
   <div id="tbl-inner">
    <table border="0" cellpadding="0" cellspacing="0" style="border: 0px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;"><tr style="border: 1px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;"><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="The logical name of the element">Name</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Information about the use of the element">Flags</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Minimum and Maximum # of times the the element can appear in the instance">Card.</a></th><th style="width: 100px" class="hierarchy"><a href="formats.html#table" title="Reference to the type of the element">Type</a></th><th style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="formats.html#table" title="Additional information about the element">Description &amp; Constraints</a><span style="float: right"><a href="formats.html#table" title="Legend for this format"><img src="help16.png" alt="doco" style="background-color: inherit"/></a></span></th></tr><tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_element.gif" alt="." style="background-color: white; background-color: inherit" title="Element" class="hierarchy"/> <a href="narrative-definitions.html#Narrative" title="Narrative : A human-readable summary of the resource conveying the essential clinical and business information for the resource.">Narrative</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="padding-left: 3px; padding-right: 3px; border: 1px grey solid; font-weight: bold; color: black; background-color: #e6ffe6" href="versions.html#std-process" title="Standards Status = Normative">N</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="element.html">Element</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">Human-readable summary of the resource (essential clinical and business information)<br/>Elements defined in Ancestors: <a href="element.html#Element" title="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.">id</a>, <a href="element.html#Element" title="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.">extension</a></td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck10.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_primitive.png" alt="." style="background-color: white; background-color: inherit" title="Primitive Data Type" class="hierarchy"/> <a href="narrative-definitions.html#Narrative.status" title="Narrative.status : The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data.">status</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..1</td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="datatypes.html#code">code</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">generated | extensions | additional | empty<br/><a href="valueset-narrative-status.html" title="The status of a resource narrative.">NarrativeStatus</a> (<a href="terminologies.html#required" title="To be conformant, the concept in this element SHALL be from the specified value set.">Required</a>)</td></tr>
<tr style="border: 0px #F0F0F0 solid; padding:0px; vertical-align: top; background-color: white;"><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck00.png)" class="hierarchy"><img src="tbl_spacer.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="tbl_vjoin_end.png" alt="." style="background-color: inherit" class="hierarchy"/><img src="icon_datatype.gif" alt="." style="background-color: white; background-color: inherit" title="Data Type" class="hierarchy"/> <a href="narrative-definitions.html#Narrative.div" title="Narrative.div : The actual narrative content, a stripped down version of XHTML.">div</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a style="padding-left: 3px; padding-right: 3px; color: black; background-color: white" href="conformance-rules.html#constraints" title="This element has or is affected by some invariants">I</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">1..1</td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy"><a href="narrative.html#xhtml">xhtml</a></td><td style="vertical-align: top; text-align : left; background-color: white; border: 0px #F0F0F0 solid; padding:0px 4px 0px 4px" class="hierarchy">Limited xhtml content<br/><span style="font-style: italic" title="txt-1">+ Rule: The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, &lt;a&gt; elements (either name or href), images and internally contained style attributes</span><br/><span style="font-style: italic" title="txt-2">+ Rule: The narrative SHALL have some non-whitespace content</span></td></tr>
<tr><td colspan="5" class="hierarchy"><br/><a href="formats.html#table" title="Legend for this format"><img src="help16.png" alt="doco" style="background-color: inherit"/> Documentation for this format</a></td></tr></table>
   </div>
  </div>

  <div id="umla">
   <a name="uml-Narrative"> </a>
   <p><b>UML Diagram</b> (<a href="formats.html#uml">Legend</a>)</p>
   <div id="uml-inner">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="376.0" id="n9" version="1.1" height="126.0">  <defs>
    <filter x="0" width="200%" y="0" id="shadow1b" height="200%">
      <feOffset result="offOut" dx="3" in="SourceGraphic" dy="3"></feOffset>
      <feColorMatrix result="matrixOut" in="offOut" values="0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0" type="matrix"></feColorMatrix>
      <feGaussianBlur result="blurOut" stdDeviation="2" in="matrixOut"></feGaussianBlur>
      <feBlend mode="normal" in="SourceGraphic" in2="blurOut"></feBlend>
    </filter>
  </defs><g id="n10"><rect filter="url(#shadow1b)" rx="4" ry="4" x="120.0" width="114.4" y="70.0" style="fill:#ecffec;stroke:black;stroke-width:1" id="n11" height="46.0"></rect><text x="177.2" y="90.0" id="n12" fill="black" class="diagram-class-title"><a id="n13" xlink:href="element.html#Element">Element</a></text><line y1="98.0" x1="120.0" y2="98.0" x2="234.4" style="stroke:dimgrey;stroke-width:1" id="n14"></line><text x="126.0" y="112.0" fill="black" class="diagram-class-detail"><a id="n15" xlink:href="extensibility.html"><title id="n16">Extensions - as described for all elements: additional information that is not part of the basic definition of the resource / type</title>extension</a> : <a id="n17" xlink:href="extensibility.html">Extension</a> 0..*</text></g><g id="n18"><rect filter="url(#shadow1b)" rx="4" ry="4" x="0.0" width="176.0" y="0.0" style="fill:#ecffec;stroke:black;stroke-width:1" id="n19" height="64.0"></rect><line y1="28.0" x1="0.0" y2="28.0" x2="176.0" style="stroke:dimgrey;stroke-width:1" id="n20"></line><text x="88.0" y="20.0" id="n21" fill="black" class="diagram-class-title"><a id="n22" xlink:href="narrative.html#Narrative">Narrative</a></text><text x="6.0" y="42.0" id="n23" fill="black" class="diagram-class-detail"><a id="n24" xlink:href="narrative-definitions.html#Narrative.status"><title>The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data</title>status</a> : <a id="n25" xlink:href="#code">code</a> [1..1] « <a id="n26" xlink:href="valueset-narrative-status.html"><title id="n27">The status of a resource narrative. (Strength=Required)</title>NarrativeStatus</a>! »</text><text x="6.0" y="56.0" id="n33" fill="black" class="diagram-class-detail"><a id="n34" xlink:href="narrative-definitions.html#Narrative.div"><title>The actual narrative content, a stripped down version of XHTML</title>div</a> : <a id="n35" xlink:href="narrative.html#xhtml">xhtml</a> [1..1]</text></g><line y1="70.0" x1="143.56721311475408" y2="63.99999999999999" x2="134.7934426229508" style="stroke:navy;stroke-width:1" id="n39"></line><polygon transform="rotate(-145.63347369686468 143.56721311475408 70.0)" style="fill:white;stroke:navy;stroke-width:1" id="n40" points="143.56721311475408,70.0 151.56721311475408,76.0 151.56721311475408,64.0 143.56721311475408,70.0"></polygon></svg>
   </div>
  </div>

  <div id="xmla">
   <a name="xml-Narrative"> </a>
   <p><b>XML Template</b></p>
   <div id="xml-inner">
     <pre class="spec">
&lt;<a href="narrative-definitions.html#Narrative" title="A human-readable summary of the resource conveying the essential clinical and business information for the resource." class="dict"><b>[name]</b></a> xmlns="http://hl7.org/fhir"&gt;
 &lt;!-- from Element: <a href="extensibility.html">extension</a> --&gt;
 &lt;<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict"><b>status</b></a> value="[<span style="color: darkgreen"><a href="datatypes.html#code">code</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="valueset-narrative-status.html">generated | extensions | additional | empty</a></span><span style="color: Gray"> --&gt;</span>
 &lt;<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict"><b title="The actual narrative content, a stripped down version of XHTML.">div</b></a> xmlns="http://www.w3.org/1999/xhtml"&gt; <span style="color: Gray">&lt;!--</span> <span style="color: navy">Limited xhtml content</span><span style="color: Gray">&lt; --&gt;</span> &lt;/div&gt;
&lt;/[name]&gt;
</pre>


   </div>
  </div>

  <div id="jsona">
   <a name="json-Narrative"> </a>
   <p><b>JSON Template</b></p>
   <div id="json-inner">
     <pre class="spec">
{<span style="float: right"><a href="json.html" title="Documentation for this format"><img src="help.png" alt="doco"/></a></span>
  // from Element: <a href="extensibility.html">extension</a>
  "<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict">status</a>" : "&lt;<span style="color: darkgreen"><a href="datatypes.html#code">code</a></span>&gt;", <span style="color: Gray">//</span> <span style="color: brown" title="This element is required"><b>R!</b></span>  <span style="color: navy; opacity: 0.8"><a style="color: navy; opacity: 0.8" href="valueset-narrative-status.html">generated | extensions | additional | empty</a></span>
  "<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict">div</a>" : "(Escaped XHTML)" <span style="color: Gray">//</span> <span style="color: brown" title="This element is required"><b>R!</b></span>  <span style="color: navy; opacity: 0.8"><a style="color: navy; opacity: 0.8" href="terminologies.html#unbound">Limited xhtml content</a></span>
}
</pre>


   </div>
  </div>
  <div id="ttla">
   <a name="ttl-Narrative"> </a>
   <p><b>Turtle Template</b></p>
   <div id="ttl-inner">
     <pre class="spec">
@prefix fhir: &lt;http://hl7.org/fhir/&gt; .

[
 # from Element: <a href="extensibility.html">Element.extension</a>
  fhir:<a href="narrative-definitions.html#Narrative.status" title="The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data." class="dict">Narrative.status</a><a name="ttl-status"> </a>[ <a href="datatypes.html#code">code</a> ]; # 1..1 <span style="color: navy">generated | extensions | additional | empty</span>
  fhir:<a href="narrative-definitions.html#Narrative.div" title="The actual narrative content, a stripped down version of XHTML." class="dict">Narrative.div</a><a name="ttl-div"> </a>[ fhir:value "[escaped xhtml]"^^xsd:string ]; # 1..1 <span style="color: navy">Limited xhtml content</span>
]
</pre>


   </div>
  </div>
  <div id="diffa">
   <a name="diff-Narrative"> </a>
   <p><b>Changes since Release 3</b></p>
   <div id="diff-inner">
     <table class="grid">
  <tr class="diff-item">
    <td class="diff-left">
      <a href="narrative.html#Narrative">Narrative</a>
    </td>
    <td class="diff-right"></td>
  </tr>
  <tr class="diff-entry">
    <td class="diff-left">Narrative.status</td>
    <td class="diff-right">
      <ul>
        <li>Change value set from http://hl7.org/fhir/ValueSet/narrative-status to http://hl7.org/fhir/ValueSet/narrative-status|4.0.0</li>
      </ul>
    </td>
  </tr>
</table>

<p>See the <a href="diff.html">Full Difference</a> for further information</p>

   </div>
  </div>
 </div>
</div>

<a name="security"></a><a name="rules"></a>
<p>
The contents of the <i>div</i> element are an XHTML fragment that SHALL contain only the basic HTML formatting elements described in
chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, &lt;a&gt; elements (either name or href),
images and internally contained style attributes.
The XHTML content SHALL NOT contain
a <code>head</code>, a <code>body</code> element, external stylesheet references, deprecated elements, scripts, forms, base/link/xlink, frames, iframes, objects or event related attributes (e.g. <code>onClick</code>).
This is to ensure that the content of the narrative is contained within the resource and that there is no active content.  Such content would introduce
security issues and potentially safety issues with regard to extracting text from the XHTML. Note that 
even with these restrictions, there are still several important <a href="security.html#narrative">security risks</a> associated with displaying the narrative.
</p>
<p>
The div element SHALL have some non-whitespace content (text or an image).
</p>
<div class="example">
<pre fragment="Narrative" class="xml">
  &lt;narrative&gt;
    &lt;status value="additional"/&gt;
    &lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;This is a simple
          example with only plain text&lt;/div&gt;
  &lt;/narrative&gt;

  &lt;narrative&gt;
    &lt;status value="additional"/&gt;
   &lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;
     &lt;p&gt;
       This is an &lt;i&gt;example&lt;/i&gt; with some &lt;b&gt;xhtml&lt;/b&gt; formatting.
     &lt;/p&gt;
   &lt;/div&gt;
  &lt;/narrative&gt;
</pre>
</div>
<p>
The inner portion of the <code>div</code> content is often used for the <i>innerHTML</i> property in a browser.
In order to simplify this kind of processing, when the narrative is represented in JSON,
it SHALL be encoded so that the characters between the first '&gt;' and the last
'&lt;' delimiters is the content of the <code>&lt;div&gt;</code> element; e.g.
</p>
<pre class="json">
  "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;text&lt;/div&gt;"
</pre>
<p>
is legal, but this is not:
</p>
<pre class="json">
  "div": "&lt;?xml ...&gt;&lt;div&gt;text&lt;/div&gt;"
</pre>
<p>
Note that the XHTML is contained in general XML so there is no support for HTML entities
like <code>&amp;nbsp;</code> or <code>&amp;copy;</code> etc. Unicode characters SHALL be used instead. Unicode
<code>&amp;#160;</code> substitutes for <code>&amp;nbsp;</code>.
</p>
<p>
The narrative content SHOULD be in the <a href="resource.html#language">language of the resource</a>, but
there is no reason to expect that HTML enabled tooling would understand the resource <a href="resource-definitions.html#Resource.language">language</a> element. For this reason,
a <code>lang</code> attribute on the <code>&lt;div&gt;</code> SHOULD also be used if language is declared on the resource (see
<a href="http://www.w3.org/html/wg/drafts/html/master/dom.html#the-lang-and-xml:lang-attributes">the note in the HTML 5 specification about use of language <img src="external.png" style="text-align: baseline"/></a>).
</p>

<a name="lang"> </a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.1</span> Multi-language support for Narratives <a href="narrative.html#lang" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>
<p>
A narrative may contain content from multiple languages. This is always possible in that 
the narrative may contain ad-hoc content in any language, often with inline translation
provided - this is not unusual in clinical systems when dealing with patients/care providers
speaking multiple languages. Some resources - specially standing documentation such as 
preparation notes - will contain the same documentation in several different languages.
</p>
<p>
Resources containing the same information in multiple different languages should 
use a <code>div</code> element with an XHTML lang attribute in the root div. 
By default, all languages will be displayed to a user, but multi-language 
aware applications can filter the content by language and only display the 
language that ia relevant to or chosend by the patient.
</p>
<p>
See the W3C documentation on <a href="https://www.w3.org/TR/i18n-html-tech-lang/">Language declarations <img src="external.png" style="text-align: baseline"/></a> for further information.
</p>


<a name="id"></a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.2</span> Image References <a href="narrative.html#id" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>

<p>
Image source data (the <code>src</code> attribute) may refer to an image found in the resource
(as a contained <a href="media.html">Media</a> or <a href="binary.html">Binary</a> resource)
by its <i>id</i>:
</p>
<div class="example">
<pre fragment="Patient" class="xml">
&lt;Patient xmlns="http://hl7.org/fhir"&gt;
  &lt;text&gt;
    &lt;status value="generated"/&gt;
    &lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;p&gt;... &lt;img src="#pic1"/&gt;. ....&lt;/p&gt;
    &lt;/div&gt;
  &lt;/text&gt;
  &lt;contained&gt;
    &lt;Binary&gt;&lt;id value="pic1"/&gt;&lt;contentType value="image/gif"/&gt;&lt;data value="MEKH....SD/Z"/&gt;&lt;/Binary&gt;
  &lt;/contained&gt;
&lt;/Patient&gt;
</pre>
</div>

<a name="internal"></a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.3</span> Internal Id References <a href="narrative.html#internal" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>
<p>
References between the narrative and the resource data (in either direction)
are mediated by the XML <code>id</code>/<code>idref</code> attributes. in JSON, the property "id" is
used which is equivalent to the XML attribute "id".
</p>

<p>
The <code>id</code> attribute SHALL have a unique value <em>within the resource</em>
with regard to any other id attributes: the uniqueness and resolution
scope of these id references is within the resource that contains them.
Contained resources are included in the id uniqueness scope of the
resource that contains them.
</p>
<p>
If multiple resources are combined into a single combined document,
such as a <a href="bundle.html">Bundle</a>, duplicate
values of the <code>id</code> attribute may occur between resources.
This SHALL be managed by applications reading the resources.
</p>
<p>
Since images that are not contained in the resource cannot be guaranteed to be available 
when the resource is presented to a user, the source for any images that are an essential 
part of the narrative SHOULD always be embedded as a <a href="https://tools.ietf.org/html/rfc2397">data: url <img src="external.png" style="text-align: baseline"/></a>, 
in an attachment or a contained resource
</p>

<a name="css"></a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.4</span> Styling the XHTML <a href="narrative.html#css" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>
<p>
The XHTML fragment in the narrative may be styled using cascading stylesheets with
either external or internal styles. External styles are applied using the <i>class</i>
and <i>id</i> attributes on the XHTML elements and internal styles are applied using
a <i>style</i> attribute on the XHTML elements directly.
</p>
<p>
In order to minimize manageability and security issues, authoring systems cannot 
specify the CSS stylesheet to use directly, unless the stylesheet is included in a FHIR Document. 
Instead, the application that displays
the resource provides the stylesheets. This means that the rendering system
chooses what styles can be used, but the authoring system must use them in advance.
Authoring systems can use these classes, which SHALL be supported by all rendering systems:
</p>
<table>
 <tr> <td>bold</td> <td>Bold Text</td> <td>{ font-weight: bold }</td> </tr>
 <tr> <td>italics</td> <td>Italics Text</td> <td>{ font-style: italic }</td> </tr>
 <tr> <td>underline</td> <td>Underlined Text</td> <td>{ text-decoration: underline }</td> </tr>
 <tr> <td>strikethrough</td> <td>Strikethrough Text</td> <td>{ text-decoration: line-through }</td> </tr>
 <tr> <td>left</td> <td>Left Aligned</td> <td>{ text-align : left }</td> </tr>
 <tr> <td>right</td> <td>Right Aligned</td> <td>{ text-align : right }</td> </tr>
 <tr> <td>center</td> <td>Center Aligned</td> <td>{ text-align : center }</td> </tr>
 <tr> <td>justify</td> <td>Justified</td> <td>{ text-align : justify }</td> </tr>
 <tr> <td>border-left</td> <td>Border on the left</td> <td>{ border-left: 1px solid grey }</td> </tr>
 <tr> <td>border-right</td> <td>Border on the right</td> <td>{ border-right: 1px solid grey }</td> </tr>
 <tr> <td>border-top</td> <td>Border on the top</td> <td>{ border-top: 1px solid grey }</td> </tr>
 <tr> <td>border-bottom</td> <td>Border on the bottom</td> <td>{ border-bottom: 1px solid grey }</td> </tr>
 <tr> <td>arabic</td> <td>List is ordered using Arabic numerals: 1, 2, 3</td> <td>{ list-style-type: decimal }</td> </tr>
 <tr> <td>little-roman</td> <td>List is ordered using little Roman numerals: i, ii, iii</td> <td>{ list-style-type: lower-roman }</td> </tr>
 <tr> <td>big-roman</td> <td>List is ordered using big Roman numerals: I, II, III</td> <td>{ list-style-type: upper-roman }</td> </tr>
 <tr> <td>little-alpha</td> <td>List is ordered using little alpha characters: a, b, c</td> <td>{ list-style-type: lower-alpha }</td> </tr>
 <tr> <td>big-alpha</td> <td>List is ordered using big alpha characters: A, B, C</td> <td>{ list-style-type: upper-alpha }</td> </tr>
 <tr> <td>disc</td> <td>List bullets are simple solid discs</td> <td>{ list-style-type: disc }</td> </tr>
 <tr> <td>circle</td> <td>List bullets are hollow discs</td> <td>{ list-style-type : circle }</td> </tr>
 <tr> <td>square</td> <td>List bullets are solid squares</td> <td>{ list-style-type: square }</td> </tr>
 <tr> <td>unlist</td> <td>List with no bullets</td> <td>{ list-style-type: none }</td> </tr>
</table>
<p>
Note: for testing purposes, there is an <a href="basic-example-narrative.html">example resource</a> that includes
all of these styles. It is also available <a href="narrative-example.html">as XHTML</a> and a
<a href="fhir-runtime.css">standard stylesheet</a> that includes all of these styles.  Use of styles
not on this list will require an arrangement between producing and consuming systems.
</p>

<p>
Authoring systems may refer to additional classes, but cannot rely on the fact
that they will be supported. If the additional classes are critical for safe
rendering, trading partner agreements will be required.
</p>
<p>
Authoring systems may also use internal styles using the <i>style</i> attribute. This
has the advantage of not depending on external interpretation, but also has the
side effect of making content more difficult to manage when rendering, so applications
should use this approach with care.
</p>
<p>
Authoring systems may fix the following styling aspects of the content:
</p>
<ul>
  <li>bold, italic, underline, strikethrough</li>
  <li>font color, family and size</li>
  <li>background color, text alignment</li>
  <li>whitespace interpretation</li>
  <li>ordered list number format (since it may be referred to in text)</li>
</ul>
<p>
These style properties are specified in-line using the <code>style</code> attribute. Rendering systems
SHOULD respect any of these rendering styles when they are specified in the <code>style</code>
attribute, although appropriate interpretation is allowed in certain contexts (e.g. a low-contrast display for dark
rooms or a high-contrast display for the visually impaired may adjust colors accordingly).
</p>
<p>
Note that rendering systems can ignore or override any of the internal or
external styles described above, but SHOULD be careful to ensure that this is only done
in the context of well-maintained trading partner agreements, as altering the presentation
of the text may create clinical safety issues.
</p>
<p>
Authors MAY specify additional styles and style properties as specified in the CSS specification,
but these are extensions to this specification and renderers are not required to heed them.
It SHOULD be safe to view the narrative without these additional styling features available.
</p>
<p>
Note that there are additional rules around styling for <a href="documents.html#css">documents</a> presentation.
</p>

<a name="linking"></a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.5</span> Linking between Data and Narrative <a href="narrative.html#linking" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>
<p>
In some contexts, it is useful to link between the two representations of the same content: structured data, and human readable narrative.
This can be used to assert that the text is a representation of the data, or specifically that the data is derived from some particular text. 
This specification defines the extensions <a href="extension-narrativelink.html">narrativeLink</a> and <a href="extension-originaltext.html">originalText</a> 
to establish these links. Here's an example of using
originalText:
</p>
<pre class="json">
{
  "resourceType" : "Condition",
  "text" : {
    "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;There is a history of &lt;span id=\"a1\"&gt;Asthma&lt;/span&gt;&lt;/div&gt;" 
  },
  "code" : {
    "coding" : {
      "system" : "http://snomed.info/sct",
      "code" : "195967001",
      "display" : "Asthma (disorder)"
    },
    "extension" : [{
      "url" : "http://hl7.org/fhir/StructureDefinition/originalText",
      "valueUrl" : "#a1"
    }]
  }
}
</pre>
<p>
This indicates that the word "Asthma" in the narrative is the original text from which the SNOMED CT code "asthma"
was derived by some text processing method. Typically, this method is associated with resources built from 
CDA documents. The same method can be used to reference across resource boundaries, e.g. between a resource
and the composition that represents it:
</p>
<pre class="xml">
&lt;Bundle xmlns="http://hl7.org/fhir"&gt;
  &lt;entry&gt;
    &lt;fullUrl value="http://example.org/fhir/Composition/abcdefghij"/&gt;
    &lt;Composition&gt;
      &lt;id value="c1"/&gt;
      &lt;text&gt;
        &lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;
          ...
          &lt;p&gt;There is a history of &lt;span id="a1"&gt;Asthma&lt;/span&gt;&lt;/p&gt;
          ...
        &lt;/div&gt;
      &lt;/text&gt;
    &lt;/Composition&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;Condition&gt;
      &lt;code&gt;
        &lt;extension url="http://hl7.org/fhir/StructureDefinition/originalText"&gt;
          &lt;valueUrl value="http://example.org/fhir/Composition/abcdefghij#a1"/&gt;
        &lt;/extension&gt;
        &lt;coding&gt;
          &lt;system value="http://snomed.info/sct"/&gt;
          &lt;code value="195967001"/&gt;
          &lt;display value="Asthma (disorder)"/&gt;
        &lt;/coding&gt;
      &lt;/code&gt;
    &lt;/Condition&gt;
  &lt;/entry&gt;
&lt;/Bundle&gt;
</pre>



<a name="safety"></a>
<h3 class="self-link-parent"><span class="sectioncount">2.4.0.6</span> Clinical Safety Concerns <a href="narrative.html#safety" title="link to here" class="self-link"><svg viewBox="0 0 1792 1792" width="20" class="self-link" height="20"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z" fill="navy"></path></svg></a></h3>
<p>
Health care records are often associated with legislative and business requirements for very long retention
times (up to a century) and extreme risk aversion with regards to inconsistent display across
a variety of devices, rendering engines, and display constraints. Although the narrative is allowed to use the standard XHTML and CSS
features as described above, implementations are encouraged to show restraint when using the
features available. Even when trading partner arrangements limit the current requirements
made on a system, experience shows that these trading arrangements will likely broaden
over time.
</p>
<p>
In particular:
</p>
<ul>
 <li>complex layered layouts requiring careful testing of
the match between the XHTML <code>div</code> and <code>span</code> elements and styles, and
those that include nested tables (possibly with images) as well, make rendering consistency
difficult, and implementations SHOULD avoid these</li>
 <li>The use of styles e.g. bolding, italics and color; SHOULD NOT be used as the
   sole way to convey meaning or semantics, but should be used in conjunction with other
   data elements to ensure consistent, long term interoperability. </li>
</ul>


</div>


				</div>  <!-- /inner-wrapper -->
            </div>  <!-- /row -->
        </div>  <!-- /container -->
        
    </div>  <!-- /segment-content -->


        <div id="segment-footer" class="segment"></div> <!-- /segment-footer -->
  <!-- disqus thread -->
  <!-- disqus -->
  <!-- end disqus -->        
	
	<div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
		<div class="container">  <!-- container -->
		</div>  <!-- /container -->
	</div>  <!-- /segment-post-footer -->
    
      <!-- JS and analytics only. -->
      <!-- Bootstrap core JavaScript
================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
<script src="./assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script src="./dist/js/bootstrap.min.js"> </script>
<script src="./assets/js/respond.min.js"> </script>

<script src="./assets/js/fhir.js"> </script>

  <!-- Analytics Below
================================================== -->


  <script src="external/jquery/jquery.js"> </script>
<script src="jquery-ui.min.js"> </script>
<script>
 try {
   var currentTabIndex = sessionStorage.getItem('fhir-resource-tab-index');
 } catch(exception){
 }
 if (!currentTabIndex)
   currentTabIndex = '0';

$( '#tabs-Narrative' ).tabs({ active: currentTabIndex, activate: function( event, ui ) { store(ui.newTab.index()); } });


function store(currentTab) {
  document.activeElement.blur();
  try {
    sessionStorage.setItem('fhir-resource-tab-index', currentTab);
  } catch(exception){
  }
  $( '#tabs-Narrative' ).tabs('option', 'active', currentTab);
}
</script>
        <script src="./assets/js/template-web.js"></script>
        <script src="./assets/js/nav.js"></script>
        <script>
            var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?351f802705b09ff497ed83d498777ee1";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>

</body>
</html>